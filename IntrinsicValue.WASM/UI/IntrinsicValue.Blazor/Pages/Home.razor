@page "/"
@inject ISnackbar Snackbar

<PageTitle>Home</PageTitle>
<MudLayout>
    <MudAppBar Color="Color.Primary">
        <MudText Typo="Typo.h6" Class="mud-appbar-text">Ticker Intrinsic Value Calculator</MudText>
    </MudAppBar>

    <MudContainer Class="my-4">
        <MudText Typo="Typo.h3" GutterBottom="true">Welcome to the Ticker Intrinsic Value Calculator!</MudText>
        <MudText>
            Discover the true value of your investments with our intuitive and powerful intrinsic value calculator designed for stock market enthusiasts, investors, and financial analysts alike. This tool helps you assess the fundamental value of publicly traded stocks based on their financial data and key performance metrics. Make informed investment decisions by understanding whether a stock is overvalued, undervalued, or fairly priced according to its intrinsic value.
        </MudText>

        <MudExpansionPanels MultiExpansion="true" Class="mt-4">
            <MudExpansionPanel Text="What is Intrinsic Value?">
                <TitleContent>
                    <MudText Typo="Typo.h6">What is Intrinsic Value?</MudText>
                </TitleContent>
                <ChildContent>
                    <MudText>
                        Intrinsic value is the perceived or calculated value of a company, stock, currency, or product determined through fundamental analysis without reference to its market value. It is used by investors to determine the future cash flows of a company discounted back to their present value, giving a fair value estimate that helps in making investment decisions.
                    </MudText>
                </ChildContent>
            </MudExpansionPanel>

            <MudExpansionPanel>
                <TitleContent>
                    <MudText Typo="Typo.h6">Features of the Ticker Intrinsic Value Calculator:</MudText>
                </TitleContent>
                <ChildContent>
                    <MudExpansionPanel>
                        <TitleContent>
                            <MudText Typo="Typo.subtitle2">Comprehensive Financial Analysis</MudText>
                        </TitleContent>
                        <ChildContent>
                            Our calculator incorporates a wide range of financial indicators including earnings per share (EPS), price-to-earnings ratios (P/E), projected growth rates, and more, to provide a thorough analysis of a company’s financial health.
                        </ChildContent>
                    </MudExpansionPanel>
                    <MudExpansionPanel>
                        <TitleContent>
                            <MudText Typo="Typo.subtitle2">Customizable Inputs</MudText>
                        </TitleContent>
                        <ChildContent>
                            Adjust the variables such as discount rates, future growth rates, and final PE ratios according to your own assumptions or use default values based on historical averages and industry standards.
                        </ChildContent>
                    </MudExpansionPanel>
                    <MudExpansionPanel>
                        <TitleContent>
                            <MudText Typo="Typo.subtitle2">Real-Time Data Integration</MudText>
                        </TitleContent>
                        <ChildContent>
                            Connect seamlessly with real-time financial data feeds to ensure that you are working with the most current and relevant data available.
                        </ChildContent>
                    </MudExpansionPanel>
                    <MudExpansionPanel>
                        <TitleContent>
                            <MudText Typo="Typo.subtitle2">User-Friendly Interface</MudText>
                        </TitleContent>
                        <ChildContent>
                            User-Friendly Interface: Designed with both novice and experienced users in mind, our interface allows easy navigation and operation without compromising on the depth of functionality and analytical power.
                        </ChildContent>
                    </MudExpansionPanel>
                    <MudExpansionPanel>
                        <TitleContent>
                            <MudText Typo="Typo.subtitle2">Detailed Report Generation</MudText>
                        </TitleContent>
                        <ChildContent>
                            Generate detailed reports summarizing the intrinsic value calculations, including a breakdown of all input parameters and the logic used for the evaluation. These reports can be saved, printed, or shared directly from the platform.
                        </ChildContent>
                    </MudExpansionPanel>
                    <MudExpansionPanel>
                        <TitleContent>
                            <MudText Typo="Typo.subtitle2">Historical Data Comparison</MudText>
                        </TitleContent>
                        <ChildContent>
                            Analyze how the intrinsic value of a stock has changed over time in relation to its market price to spot trends, potential market corrections, or confirm long-term investment theses.
                        </ChildContent>
                    </MudExpansionPanel>
                </ChildContent>
            </MudExpansionPanel>
        </MudExpansionPanels>

        <MudText Typo="Typo.h5" GutterBottom="true" Class="mt-6">How It Works:</MudText>
        <MudTimeline TimelineOrientation="TimelineOrientation.Vertical" TimelinePosition="TimelinePosition.Start" Reverse="false">
            <MudTimelineItem Color="Color.Primary" Variant="Variant.Filled">
                <ItemContent>
                    <MudAlert Severity="Severity.Info">Select a Ticker: Start by entering the ticker symbol of the stock you are interested in analyzing.</MudAlert>
                </ItemContent>
            </MudTimelineItem>
            <MudTimelineItem Color="Color.Primary" Variant="Variant.Filled">
                <ItemContent>
                    <MudAlert Severity="Severity.Info">Review Financials: Automatically pull in the latest available financial data or manually enter/edit the financial metrics relevant to your analysis.</MudAlert>
                </ItemContent>
            </MudTimelineItem>
            <MudTimelineItem Color="Color.Primary" Variant="Variant.Filled">
                <ItemContent>
                    <MudAlert Severity="Severity.Info">Set Assumptions: Customize the assumptions used in the calculation, such as the discount rate and expected growth rate.</MudAlert>
                </ItemContent>
            </MudTimelineItem>
            <MudTimelineItem Color="Color.Primary" Variant="Variant.Filled">
                <ItemContent>
                    <MudAlert Severity="Severity.Info">Calculate Intrinsic Value: With one click, calculate the intrinsic value based on the inputs and assumptions.</MudAlert>
                </ItemContent>
            </MudTimelineItem>
            <MudTimelineItem Color="Color.Primary" Variant="Variant.Filled">
                <ItemContent>
                    <MudAlert Severity="Severity.Info">Analyze Results: View a detailed breakdown of the calculation and understand the factors driving the intrinsic value. Compare it to the current market price to assess the investment potential.</MudAlert>
                </ItemContent>
            </MudTimelineItem>
        </MudTimeline>
    </MudContainer>
    <MudContainer Class="my-4">
        <MudTabs Outlined="true" Position="Position.End" Rounded="true" Border="true"
                 ApplyEffectsToContainer="true" Class="mt-8" PanelClass="pa-6">
            <MudTabPanel Text="Make Smarter Investment Decisions">
                <MudText>By knowing the intrinsic value, you can better determine the right time to buy or sell a stock.</MudText>
            </MudTabPanel>
            <MudTabPanel Text="Save Time">
                <MudText>Quickly calculate and compare without the need for manual calculations or spreadsheets.</MudText>
            </MudTabPanel>
            <MudTabPanel Text="Gain Financial Insight">
                <MudText>Enhance your understanding of financial metrics and how they contribute to a stock's intrinsic value.</MudText>
            </MudTabPanel>
            <MudTabPanel Text="Educational Tool">
                <MudText>Learn about fundamental analysis through hands-on practice and detailed explanations of each step.</MudText>
            </MudTabPanel>
        </MudTabs>
    </MudContainer>
    <MudContainer Class="my-4">
        <MudGrid>
            <MudItem>
                <MudText Typo="Typo.h5" GutterBottom="true">Start Now!</MudText>
                <MudText>
                    Use our intuitive calculator to evaluate the intrinsic value of stocks based on fundamental analysis and financial data.
                </MudText>
                <MudTextField @bind-Value="ticker" Label="Enter Ticker Symbol" Variant="Variant.Outlined" AdornmentIcon="@Icons.Material.Filled.Search" AdornmentColor="Color.Primary" Adornment="Adornment.End" @onkeydown="@SearchTicker" Class="mt-2" />
                <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="mt-2" OnClick="CalculateValue">Calculate</MudButton>
            </MudItem>
        </MudGrid>

        <MudExpansionPanels Class="mt-4">
            <!-- Expansion Panels for Information -->
        </MudExpansionPanels>

        <MudText Typo="Typo.h5" GutterBottom="true" Class="mt-5">Calculation Results:</MudText>
        <!-- Placeholder for results, possibly showing charts or tables -->
        <MudSimpleTable Dense="true" Hover="true" Striped="true" Class="mt-2">
            <!-- Data table for displaying calculation results -->
        </MudSimpleTable>
    </MudContainer>
</MudLayout>

@code {
    private string ticker = "";

    private void CalculateValue()
    {
        if (string.IsNullOrWhiteSpace(ticker))
        {
            Snackbar.Add("Please enter a valid ticker symbol.", Severity.Error);
            return;
        }
        Snackbar.Add("Calculating intrinsic value for: " + ticker, Severity.Success);
        // Add logic to fetch and calculate intrinsic value
    }

    private Task SearchTicker(KeyboardEventArgs args)
    {
        if (args.Key == "Enter")
            CalculateValue();
        return Task.CompletedTask;
    }
}